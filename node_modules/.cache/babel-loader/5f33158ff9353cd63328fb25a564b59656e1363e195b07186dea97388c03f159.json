{"ast":null,"code":"// fetchAPI.js\nimport axios from'axios';const API_BASE_URL='https://frontend-take-home-service.fetch.com';// Ensure cookies are included with every request\naxios.defaults.withCredentials=true;export const login=async(name,email)=>{try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/auth/login\"),{name,email});return response.data;}catch(error){console.error('Login API error:',error);throw error;}};export const logout=async()=>{try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/auth/logout\"));return response.data;}catch(error){console.error('Logout API error:',error);throw error;}};// Fetch multiple dog details by passing an array of dog IDs\nexport const fetchDogsByIds=async dogIDs=>{try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/dogs\"),dogIDs);return response.data;// Expected to return an array of Dog objects\n}catch(error){console.error('Failed to fetch dog details:',error);throw error;}};// Search for dogs based on filters (which include pagination, sort, breeds, and zipCodes)\n// Returns an object: { dogs, total, next, prev }\nexport const searchDogs=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const searchResponse=await axios.get(\"\".concat(API_BASE_URL,\"/dogs/search\"),{params:filters});if(searchResponse.data&&Array.isArray(searchResponse.data.resultIds)){const{resultIds,total,next,prev}=searchResponse.data;const dogs=await fetchDogsByIds(resultIds);return{dogs,total,next,prev};}return{dogs:[],total:0,next:null,prev:null};}catch(error){console.error('Search API error:',error);return{dogs:[],total:0,next:null,prev:null};}};// Generate a match based on the favorited dog IDs\n// Expects favoriteIds to be an array of dog IDs.\nexport const generateMatch=async favoriteIds=>{try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/dogs/match\"),favoriteIds);return response.data;// Expected to be an object with a property `match`\n}catch(error){console.error('Match generation error:',error);throw error;}};// Search for locations based on filters (e.g. city)\n// Request body can include { city: string, states?: string[], geoBoundingBox?: object, size?, from? }\n// Returns an object with: { results: Location[], total: number }\nexport const searchLocations=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const response=await axios.post(\"\".concat(API_BASE_URL,\"/locations/search\"),filters);return response.data;}catch(error){console.error('Location search error:',error);throw error;}};","map":{"version":3,"names":["axios","API_BASE_URL","defaults","withCredentials","login","name","email","response","post","concat","data","error","console","logout","fetchDogsByIds","dogIDs","searchDogs","filters","arguments","length","undefined","searchResponse","get","params","Array","isArray","resultIds","total","next","prev","dogs","generateMatch","favoriteIds","searchLocations"],"sources":["/Users/pop/Desktop/fetch-dogs/src/api/fetchAPI.js"],"sourcesContent":["// fetchAPI.js\nimport axios from 'axios';\n\nconst API_BASE_URL = 'https://frontend-take-home-service.fetch.com';\n\n// Ensure cookies are included with every request\naxios.defaults.withCredentials = true;\n\nexport const login = async (name, email) => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/auth/login`, { name, email });\n    return response.data;\n  } catch (error) {\n    console.error('Login API error:', error);\n    throw error;\n  }\n};\n\nexport const logout = async () => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/auth/logout`);\n    return response.data;\n  } catch (error) {\n    console.error('Logout API error:', error);\n    throw error;\n  }\n};\n\n// Fetch multiple dog details by passing an array of dog IDs\nexport const fetchDogsByIds = async (dogIDs) => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/dogs`, dogIDs);\n    return response.data; // Expected to return an array of Dog objects\n  } catch (error) {\n    console.error('Failed to fetch dog details:', error);\n    throw error;\n  }\n};\n\n// Search for dogs based on filters (which include pagination, sort, breeds, and zipCodes)\n// Returns an object: { dogs, total, next, prev }\nexport const searchDogs = async (filters = {}) => {\n  try {\n    const searchResponse = await axios.get(`${API_BASE_URL}/dogs/search`, { params: filters });\n    if (searchResponse.data && Array.isArray(searchResponse.data.resultIds)) {\n      const { resultIds, total, next, prev } = searchResponse.data;\n      const dogs = await fetchDogsByIds(resultIds);\n      return { dogs, total, next, prev };\n    }\n    return { dogs: [], total: 0, next: null, prev: null };\n  } catch (error) {\n    console.error('Search API error:', error);\n    return { dogs: [], total: 0, next: null, prev: null };\n  }\n};\n\n// Generate a match based on the favorited dog IDs\n// Expects favoriteIds to be an array of dog IDs.\nexport const generateMatch = async (favoriteIds) => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/dogs/match`, favoriteIds);\n    return response.data; // Expected to be an object with a property `match`\n  } catch (error) {\n    console.error('Match generation error:', error);\n    throw error;\n  }\n};\n\n// Search for locations based on filters (e.g. city)\n// Request body can include { city: string, states?: string[], geoBoundingBox?: object, size?, from? }\n// Returns an object with: { results: Location[], total: number }\nexport const searchLocations = async (filters = {}) => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/locations/search`, filters);\n    return response.data;\n  } catch (error) {\n    console.error('Location search error:', error);\n    throw error;\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}